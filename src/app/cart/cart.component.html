<div class="container mx-auto mt-6">
  <h2 class="text-2xl font-semibold mb-4">Tu Carrito</h2>
  <table *ngIf="cartItems.length" class="w-full bg-white shadow rounded">
    <thead>
      <tr>
        <th class="px-4 py-2">Producto</th>
        <th class="px-4 py-2">Precio</th>
        <th class="px-4 py-2">Cantidad</th>
        <th class="px-4 py-2">Subtotal</th>
        <th class="px-4 py-2"></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of cartItems">
        <td class="px-4 py-2">{{item.name}}</td>
        <td class="px-4 py-2">{{item.price | currency}}</td>
        <td class="px-4 py-2">
          <input type="number" [value]="item.quantity" min="1" (change)="onQuantityChange(item, $event)" class="w-16 px-2 py-1 border rounded"/>
        </td>
        <td class="px-4 py-2">{{item.price * item.quantity | currency}}</td>
        <td class="px-4 py-2">
          <button (click)="removeItem(item)" class="text-red-500 hover:underline">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>
  <div *ngIf="!cartItems.length" class="text-center p-4">Tu carrito está vacío.</div>
  <div class="flex justify-between items-center mt-4">
    <span class="text-xl font-bold">Total: {{total | currency}}</span>
    <button [disabled]="!cartItems.length" (click)="checkout()" class="bg-green-500 text-white py-2 px-6 rounded hover:bg-green-700">Comprar</button>
  </div>
</div>